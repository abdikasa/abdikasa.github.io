(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{43:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),a=n.n(i),c=(n(43),n(19)),s=n.n(c),o=n(12),u=n(15),l=n(74),d=n(10),p=n(11),h=n(14),j=n(13),m=n(38),g=n.n(m),v=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.strings;console.log(this.props);var t={strings:e,typeSpeed:50,backSpeed:50,loop:!0,loopCount:1/0};this.typed=new g.a(this.el,t)}},{key:"componentWillUnmount",value:function(){this.typed.destroy()}},{key:"render",value:function(){var e=this;return Object(r.jsx)("span",{style:{whiteSpace:"pre"},ref:function(t){e.el=t}})}}]),n}(a.a.Component),b=(n(51),function(e){var t=e.cname,n=void 0===t?"":t,i=e.id,a=void 0===i?"":i,c=e.value,s=e.onChange;return console.log(a,n),Object(r.jsx)("input",{value:c,onChange:s,type:"text",placeholder:"Type here...",id:a,className:n,autoComplete:"off"})}),O=n(4),f=n(5),y=n.n(f),x=n(16),I=n(24),w=n.n(I),N=function(){return function(){var e=Object(x.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){window.gapi.load("client:auth2",e)}));case 2:return e.next=4,window.gapi.client.init({clientId:"966761145318-lchet6c8rli1o5jk7k82nrug9fpqe8og.apps.googleusercontent.com",scope:"profile"});case 4:n=window.gapi.auth2.getAuthInstance(),console.log(n),t({type:"FETCH_GAUTH",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={test:"Nominate"},e.onClickHandler=function(){console.log(e.props.movie),"Nominated"===e.state.test?e.setState({test:"Nominate"}):(e.setState({test:"Nominated"}),e.props.saveMovies(e.props.movie))},e}return Object(p.a)(n,[{key:"render",value:function(){var e="Nominated"===this.state.test?"positive":"";return Object(r.jsx)("div",{className:"center",children:Object(r.jsx)("div",{className:"ui toggle button ".concat(e),onClick:this.onClickHandler,children:this.state.test})})}}]),n}(a.a.Component),C=Object(o.b)(null,{saveMovies:function(e){return function(){var t=Object(x.a)(y.a.mark((function t(n,r){var i,a,c,s,o,u,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r(),a=i.signInId,c=i.auth,console.log(r()),s=a.id.split("").splice(0,5).join(""),o=a.id.split("").splice(a.id.length-5).join(""),u="".concat(s).concat(c.currentUser.get().getBasicProfile().getGivenName()).concat(o),t.next=7,w.a.post("http://localhost:3001/movies",Object(O.a)(Object(O.a)({},e),{},{uniqueName:u}));case 7:l=t.sent,n({type:"NOM_FILM",payload:l.data});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(S),_=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={term:""},i.onChangeHandler=function(e){clearTimeout(i.timer),i.setState({term:e.target.value}),i.timer=setTimeout((function(){0!==e.target.value.trim().length?i.props.searchMovies(e.target.value):i.props.searchMovies("")}),400)},i.renderMovieHelper=function(e){return Object(r.jsx)("div",{className:"ui dimmer ",children:Object(r.jsx)("div",{className:"content",children:Object(r.jsx)(C,{movie:e})})})},i.renderMovies=function(){var e=i.props.movies,t=null===i.props.signInID?function(e){return""}:i.renderMovieHelper;return console.log(e),e.error?"Incorrect IMDb ID."===e.error&&""===i.state.term?"":e.error:Object.values(e).map((function(e){return Object(r.jsx)("div",{className:"eight wide mobile four wide tablet three wide computer column stretched",children:Object(r.jsx)("div",{className:"ui special cards",children:Object(r.jsxs)("div",{className:"eq-card ui card fluid",children:[Object(r.jsxs)("div",{className:"blurring dimmable image",ref:function(){window.$(".special.cards .image").dimmer({on:"hover"})},children:["N/A"!==e.Poster?Object(r.jsx)("img",{src:e.Poster,className:"poster-img"}):Object(r.jsx)("img",{src:"http://placehold.it/300x200",srcSet:"http://placehold.it/300x200 300w",sizes:"100vw",alt:"Placeholder"}),t(e)]}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("a",{className:"header",children:e.Title}),Object(r.jsx)("div",{className:"meta",children:Object(r.jsxs)("span",{className:"date",children:["Created in ",e.Year]})})]})]})})},e.imdbID)}))},i.renderResultsFound=function(){var e=i.props.movies,t=Object.values(e);return 1===t.length&&""!==i.state.term.trim()?t[0]:""===i.state.term.trim()?null:t.length+" results found!"},i.renderContent=function(){var e=0===i.state.term.trim().length?"show":"hide";return Object(r.jsxs)("div",{className:"ui container",children:[Object(r.jsxs)("div",{className:"ui center aligned grid",children:[Object(r.jsxs)("div",{className:"sixteen wide column ".concat(e," typed-container"),children:[Object(r.jsx)("span",{className:"prefix-typed",children:"FIND YOUR"}),Object(r.jsx)(v,{strings:["<strong>MOVIE</strong>"],className:"typed_string"})]}),Object(r.jsxs)("div",{className:"ten wide column search-container ".concat(e),children:[Object(r.jsx)("h1",{ref:i.label,children:"Search"}),Object(r.jsx)("div",{className:"ui large transparent fluid input",children:Object(r.jsx)(b,{cname:"ui center aligned",id:"transparent-input",value:i.state.term,onChange:i.onChangeHandler})})]})]}),Object(r.jsx)("div",{className:"ui grid",style:{textAlign:"right",marginTop:"-1.25rem"},children:Object(r.jsx)("div",{className:"thirteen wide column",children:Object(r.jsx)("span",{children:i.renderResultsFound()})})}),Object(r.jsx)("div",{className:"ui centered align grid",children:i.renderMovies()})]})},i.label=a.a.createRef(),i.hoverImg=a.a.createRef(),i}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){return this.renderContent()}}]),n}(i.Component),k=Object(o.b)((function(e){return console.log(e),{movies:e.queryResults,signInID:e.signInId.id}}),{searchMovies:function(e){return function(){var t=Object(x.a)(y.a.mark((function t(n){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.toLowerCase().trim(),t.next=3,w.a.get("https://www.omdbapi.com/?apikey=b3c713a5&s=".concat(e,"&type=movie"));case 3:(r=t.sent).data.Search?(console.log("we have search results with that query"),n({type:"SEARCH_MOVIE",payload:r.data})):(console.log("we dont have search results with that query"),n({type:"SEARCH_MOVIE_U",payload:r.data.Error}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(_),M=n(9),T=Object(M.a)(),E=(n(71),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onAuthChange=function(t){t?e.props.signIn(e.props.current.currentUser.get().getId()):e.props.signOut()},e.signUserIn=function(){e.props.current.signIn()},e.signUserOut=function(){e.props.current.signOut()},e.renderAuthButtons=function(){return!0===e.props.isSignedIn?Object(r.jsx)("button",{className:"negative ui button so-button",onClick:e.signUserOut,children:"Sign Out"}):!1===e.props.isSignedIn?Object(r.jsx)("button",{onClick:e.signUserIn,className:"positive ui button so-button",children:"Sign In"}):null},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStatus(this.onAuthChange)}},{key:"render",value:function(){return Object(r.jsx)(a.a.Fragment,{children:this.renderAuthButtons()})}}]),n}(a.a.Component)),A=Object(o.b)((function(e){return{current:e.auth,isSignedIn:e.isSignedIn}}),{fetchStatus:function(e){return function(){var t=Object(x.a)(y.a.mark((function t(n,r){var i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(N());case 2:console.log(r()),i=r().auth,console.log(i),e(i.isSignedIn.get()),n({type:"FETCH_GSTATUS",payload:i.isSignedIn.get()}),i.isSignedIn.listen((function(){console.log("the listened function was called."),e(i.isSignedIn.get()),n({type:"FETCH_GSTATUS",payload:i.isSignedIn.get()})}));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signIn:function(e){return{type:"SIGN_IN",id:e}},signOut:function(){return{type:"SIGN_OUT"}}})(E),U=function(){return Object(r.jsxs)("div",{className:"ui secondary menu",children:[Object(r.jsx)("a",{className:"item",children:"Shoppies"}),Object(r.jsx)("div",{className:"right menu",children:Object(r.jsx)(A,{})})]})},H=function(){return Object(r.jsx)("div",{className:"ui container",children:Object(r.jsxs)(l.b,{history:T,children:[Object(r.jsx)(U,{}),Object(r.jsx)(l.a,{path:"/movies",component:k,exact:!0})]})})},D=n(21),F=Object(u.c)({dummy:function(){return"some dummy code here, nothing much going on"},queryResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type,e,t),t.type){case"SEARCH_MOVIE":return Object(O.a)({},t.payload.Search);case"SEARCH_MOVIE_U":return{error:t.payload};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAUTH":return t.payload;default:return e}},isSignedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GSTATUS":return t.payload;default:return e}},signInId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSignedIn:null,id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(O.a)(Object(O.a)({},e),{},{isSignedIn:!0,id:t.id});case"SIGN_OUT":return Object(O.a)(Object(O.a)({},e),{},{isSignedIn:!1,id:null});default:return e}},nominatedFilm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOM_FILM":return Object(O.a)(Object(O.a)({},e),{},Object(D.a)({},t.payload.imdbID,t.payload));default:return e}}}),R=n(39),G="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,q=Object(u.e)(F,G(Object(u.a)(R.a)));s.a.render(Object(r.jsx)(o.a,{store:q,children:Object(r.jsx)(H,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.6932b39f.chunk.js.map