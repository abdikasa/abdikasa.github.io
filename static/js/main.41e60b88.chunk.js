(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{45:function(e,t,n){},53:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),a=n.n(r),s=(n(45),n(20)),c=n.n(s),o=n(15),u=n(16),l=n(3),d=n(4),p=n(6),m=n(8),h=n(7),v=n(39),j=n.n(v),b=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e={strings:this.props.strings,typeSpeed:50,backSpeed:50,loop:!0,loopCount:1/0};this.typed=new j.a(this.el,e)}},{key:"componentWillUnmount",value:function(){this.typed.destroy()}},{key:"render",value:function(){var e=this;return Object(i.jsx)("span",{style:{whiteSpace:"pre"},ref:function(t){e.el=t}})}}]),n}(a.a.Component),f=(n(53),function(e){var t=e.cname,n=void 0===t?"":t,r=e.id,a=void 0===r?"":r,s=e.value,c=e.onChange;return Object(i.jsx)("input",{value:s,onChange:c,type:"text",placeholder:"Type here...",id:a,className:n,autoComplete:"off"})}),O=n(5),g=n(14),y=n.n(g),I=n(17),x=n(40),N=n.n(x),S=function e(){Object(d.a)(this,e)};S.add=function(e){var t=[];(t=JSON.parse(localStorage.getItem("nominatedMovies"))||[]).push(e),localStorage.setItem("nominatedMovies",JSON.stringify(t))},S.get=function(e){return JSON.parse(localStorage.getItem(e))||[]},S.removeItem=function(e,t){var n=Object.values(S.get(e));n=JSON.stringify(n.filter((function(e){return e.imdbID!==t}))),localStorage.setItem(e,n)};var w=S,M=function(){return function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){window.gapi.load("client:auth2",e)}));case 2:return e.next=4,window.gapi.client.init({clientId:"966761145318-lchet6c8rli1o5jk7k82nrug9fpqe8og.apps.googleusercontent.com",scope:"profile"});case 4:n=window.gapi.auth2.getAuthInstance(),t({type:"FETCH_GAUTH",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(){return{type:"FETCH_ALL",payload:w.get("nominatedMovies")}},k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={status:"Nominate"},e.onClickHandler=function(){"Nominated"===e.state.status?(e.setState({status:"Nominate"}),e.props.deleteMovie(e.props.movie.imdbID)):(e.setState({status:"Nominated"}),e.props.saveMovies(e.props.movie))},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(JSON.parse(localStorage.getItem("nominatedMovies"))){var t=localStorage.getItem("nominatedMovies");JSON.parse(t).find((function(t){return t.Title===e.props.movie.Title&&t.id===e.props.signInId}))&&this.setState({status:"Nominated"})}}},{key:"render",value:function(){var e=this,t="Nominated"===this.state.status?"positive":"",n={},r=Object.values(this.props.reduxMovies).reduce((function(t,n){return n.id===e.props.signInId&&(t+=1),t}),0);return"Nominate"===this.state.status&&5===r&&(n={pointerEvents:"none",opacity:"0.4"}),Object(i.jsx)("div",{className:"center",children:Object(i.jsx)("div",{className:"ui toggle button ".concat(t),style:n,onClick:this.onClickHandler,children:this.state.status})})}}]),n}(a.a.Component),E=Object(o.b)((function(e){return{reduxMovies:e.nominatedFilm,signInId:e.signInId.id}}),{saveMovies:function(e){return function(){var t=Object(I.a)(y.a.mark((function t(n,i){var r,a,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i(),a=r.signInId,r.auth,s=Object(O.a)(Object(O.a)({},e),{},{id:a.id}),w.get("nominatedMovies").every((function(e){return e.Title!==s.Title}))&&w.add(s),n({type:"NOM_FILM",payload:s});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},deleteMovie:function(e){return function(){var t=Object(I.a)(y.a.mark((function t(n,i){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w.removeItem("nominatedMovies",e),n({type:"DELETE_MOVIE",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(k),T=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderMovieButton=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(i.jsx)("div",{className:"ui dimmer ",children:Object(i.jsx)("div",{className:"content",children:Object(i.jsx)(E,{movie:e,options:t})})})},e.renderMovies=function(){var t=e.props.movies,n=null===e.props.signInID?function(e){return""}:e.renderMovieButton;return Object.values(t).map((function(e){return Object(i.jsx)("div",{className:"eight wide mobile four wide tablet three wide computer column stretched",children:Object(i.jsx)("div",{className:"ui special cards",children:Object(i.jsxs)("div",{className:"eq-card ui card fluid",children:[Object(i.jsxs)("div",{className:"blurring dimmable image",ref:function(){window.$(".special.cards .image").dimmer({on:"hover"})},children:["N/A"!==e.Poster?Object(i.jsx)("img",{src:e.Poster,className:"poster-img"}):Object(i.jsx)("img",{src:"https://placehold.it/300x200",srcSet:"https://placehold.it/300x200 300w",sizes:"100vw",alt:"Placeholder"}),n(e)]}),Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("a",{className:"header",children:e.Title}),Object(i.jsx)("div",{className:"meta",children:Object(i.jsxs)("span",{className:"date",children:["Created in ",e.Year]})})]})]})})},e.imdbID)}))},e}return Object(p.a)(n,[{key:"render",value:function(){return this.renderMovies()}}]),n}(a.a.Component),_=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state={term:""},r.onChangeHandler=function(e){clearTimeout(r.timer),r.setState({term:e.target.value}),r.timer=setTimeout((function(){0!==e.target.value.trim().length?r.props.searchMovies(e.target.value):r.props.searchMovies("")}),400)},r.renderResultsFound=function(){var e=r.props.movies,t=Object.values(e);return 1===t.length&&""!==r.state.term.trim()&&void 0===t[0].Title?t[0]:""===r.state.term.trim()?null:t.length+" results found!"},r.renderMoviesHelper=function(){return""===r.state.term?null:r.renderResultsFound().includes("results")?r.props.movies.error?null:Object(i.jsx)(T,{movies:r.props.movies,signInID:r.props.signInID}):null},r.renderContent=function(){var e=0===r.state.term.trim().length?"show":"hide";return Object(i.jsxs)("div",{className:"ui container",children:[Object(i.jsxs)("div",{className:"ui center aligned grid",children:[Object(i.jsxs)("div",{className:"sixteen wide column ".concat(e," typed-container"),children:[Object(i.jsx)("span",{className:"prefix-typed",children:"FIND YOUR"}),Object(i.jsx)(b,{strings:["<strong>MOVIE</strong>"],className:"typed_string"})]}),Object(i.jsxs)("div",{className:"ten wide column search-container ".concat(e),children:[Object(i.jsx)("h1",{children:"Search"}),Object(i.jsx)("div",{className:"ui large transparent fluid input",children:Object(i.jsx)(f,{cname:"ui center aligned",id:"transparent-input",value:r.state.term,onChange:r.onChangeHandler})})]})]}),Object(i.jsx)("div",{className:"ui grid",style:{textAlign:"right",marginTop:"-1.25rem"},children:Object(i.jsx)("div",{className:"thirteen wide column",children:Object(i.jsx)("span",{children:r.renderResultsFound()})})}),Object(i.jsx)("div",{className:"ui centered align grid",children:r.renderMoviesHelper()})]})},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.timer=null,this.props.fetchNominatedMovies()}},{key:"componentWillUnmount",value:function(){this.setState({term:""}),this.props.searchMovies("")}},{key:"render",value:function(){return this.renderContent()}}]),n}(r.Component),D=Object(o.b)((function(e){return{movies:e.queryResults,signInID:e.signInId.id,nominatedFilms:e.nominatedFilm}}),{searchMovies:function(e){return function(){var t=Object(I.a)(y.a.mark((function t(n,i){var r,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.toLowerCase().trim(),t.next=3,N.a.get("https://www.omdbapi.com/?apikey=b3c713a5&s=".concat(e,"&type=movie"));case 3:r=t.sent,a=i().isSignedIn.id,r.data.Search?n({type:"SEARCH_MOVIE",payload:{movies:r.data,id:a}}):n({type:"SEARCH_MOVIE_U",payload:r.data.Error});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},fetchNominatedMovies:C})(_),A=n(10),F=Object(A.a)(),H=(n(73),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAuthChange=function(t){t?e.props.signIn(e.props.current.currentUser.get().getId()):e.props.signOut()},e.signUserIn=function(){e.props.current.signIn()},e.signUserOut=function(){e.props.current.signOut()},e.renderAuthButtons=function(){return!0===e.props.isSignedIn?Object(i.jsx)("button",{className:"negative ui button so-button",onClick:e.signUserOut,children:"Sign Out"}):!1===e.props.isSignedIn?Object(i.jsx)("button",{onClick:e.signUserIn,className:"positive ui button so-button",children:"Sign In"}):null},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchStatus(this.onAuthChange)}},{key:"render",value:function(){return Object(i.jsx)(a.a.Fragment,{children:this.renderAuthButtons()})}}]),n}(a.a.Component)),U=Object(o.b)((function(e){return{current:e.auth,isSignedIn:e.isSignedIn}}),{fetchStatus:function(e){return function(){var t=Object(I.a)(y.a.mark((function t(n,i){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(M());case 2:r=i().auth,e(r.isSignedIn.get()),n({type:"FETCH_GSTATUS",payload:r.isSignedIn.get()}),r.isSignedIn.listen((function(){e(r.isSignedIn.get()),n({type:"FETCH_GSTATUS",payload:r.isSignedIn.get()})}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signIn:function(e){return{type:"SIGN_IN",id:e}},signOut:function(){return{type:"SIGN_OUT"}}})(H),R=n(23),L=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return this.props.totalNoms.reduce((function(t,n){return n.id===e.props.isSignedIn&&(t+=1),t}),0)<5||null===this.props.isSignedIn?null:Object(i.jsx)("div",{className:"ui center aligned grid banner",style:{position:"sticky",top:"0",zIndex:"1000"},children:Object(i.jsx)("div",{className:"ui column banner test ad","data-text":"You have reached the maximum number of nominations (5).",style:{backgroundColor:"#252a4d"}})})}}]),n}(a.a.Component),G=Object(o.b)((function(e){return{totalNoms:Object.values(e.nominatedFilm),isSignedIn:e.signInId.id}}))(L),J=function(){return Object(i.jsxs)("div",{className:"ui container",children:[Object(i.jsx)(G,{}),Object(i.jsxs)("div",{className:"ui secondary menu",children:[Object(i.jsx)(R.a,{to:"/movies",className:"item",children:"Shoppies"}),Object(i.jsxs)("div",{className:"right menu",children:[Object(i.jsx)(R.a,{to:"/movies/show",className:"item",style:{fontSize:"1rem"},children:"My Movies"}),Object(i.jsx)(U,{})]})]})]})},V=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderMovies=function(){if(null===e.props.signInID)return Object(i.jsx)("h4",{children:"Please sign in to see your nominated movies."});var t=Object.values(e.props.myMovies).filter((function(t){return t.id===e.props.signInID}));return Object(i.jsx)(T,{movies:t,signInID:e.props.signInID})},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchNominatedMoviesRS()}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"ui container",children:[Object(i.jsx)("div",{className:"ui center aligned grid",children:Object(i.jsx)("div",{className:"column",children:Object(i.jsx)("h3",{children:"My Nominated Picks"})})}),Object(i.jsx)("div",{className:"ui centered align grid",children:this.renderMovies()})]})}}]),n}(a.a.Component),P=Object(o.b)((function(e){return{myMovies:Object.values(e.nominatedFilm),signInID:e.signInId.id}}),{fetchNominatedMoviesRS:function(){return function(){var e=Object(I.a)(y.a.mark((function e(t,n){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(C());case 2:return i=n().nominatedFilm,e.abrupt("return",{type:"FETCH_ALL_RS",payload:i});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})(V),B=function(){return Object(i.jsx)("div",{className:"ui container",children:Object(i.jsxs)(l.b,{history:F,children:[Object(i.jsx)(J,{}),Object(i.jsx)(l.a,{path:"/movies",component:D,exact:!0}),Object(i.jsx)(l.a,{path:"/movies/show",component:P,exact:!0})]})})},q=n(42),z=n(22),Y=Object(u.c)({dummy:function(){return"some dummy code here, nothing much going on"},queryResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MOVIE":var n=Object.values(Object(q.a)(t.payload.movies.Search)).map((function(e){return e.id=t.payload.id,e}));return Object(O.a)({},n);case"SEARCH_MOVIE_U":return{error:t.payload};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAUTH":return t.payload;default:return e}},isSignedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GSTATUS":return t.payload;default:return e}},signInId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSignedIn:null,id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(O.a)(Object(O.a)({},e),{},{isSignedIn:!0,id:t.id});case"SIGN_OUT":return Object(O.a)(Object(O.a)({},e),{},{isSignedIn:!1,id:null});default:return e}},nominatedFilm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOM_FILM":return Object(O.a)(Object(O.a)({},e),{},Object(z.a)({},t.payload.imdbID,t.payload));case"DELETE_MOVIE":return delete e[t.payload],Object(O.a)({},e);case"FETCH_ALL":var n={};return t.payload.forEach((function(e){n[e.imdbID]=e})),Object(O.a)(Object(O.a)({},e),n);default:return e}}}),W=n(41),X="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,$=Object(u.e)(Y,X(Object(u.a)(W.a)));c.a.render(Object(i.jsx)(o.a,{store:$,children:Object(i.jsx)(B,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.41e60b88.chunk.js.map